{% extends "base.html" %}
{% block content %}
<style>
    .room-link { display: block; padding: 20px; margin: 10px; background: var(--bg-panel); border-radius: 12px; text-decoration: none; color: #fff; border-left: 4px solid var(--accent); }
    .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:100; }
</style>

<button onclick="document.getElementById('m').style.display='flex'" style="margin: 15px; width: calc(100% - 30px)">+ Новая комната</button>

<div id="m" class="modal" onclick="if(event.target==this)this.style.display='none'">
    <div style="background: var(--bg-panel); padding: 20px; border-radius: 12px; width: 80%">
        <form action="{{ url_for('add_room') }}" method="POST">
            <input type="text" name="room_code" placeholder="Код комнаты" required>
            <button type="submit">Войти / Создать</button>
        </form>
    </div>
</div>

<div style="overflow-y: auto">
    {% for r in rooms %}
        <a href="{{ url_for('chat', room_id=r.id) }}" class="room-link"># {{ r.code }}</a>
    {% else %}
        <p style="text-align: center; opacity: 0.5; margin-top: 50px">У вас нет активных комнат</p>
    {% endfor %}
</div>
{% endblock %}
